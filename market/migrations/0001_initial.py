# Generated by Django 3.1.7 on 2021-03-12 09:22

from django.db import migrations, models
import django.db.models.deletion
import timescale.db.models.fields


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Exchange',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.TextField(blank=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='Indices',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('iid', models.IntegerField()),
                ('index_name', models.TextField(blank=True, null=True)),
                ('eid', models.ForeignKey(db_column='eid', on_delete=django.db.models.deletion.DO_NOTHING, to='market.exchange')),
            ],
        ),
        migrations.CreateModel(
            name='Person',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.TextField(blank=True, null=True)),
                ('address', models.TextField(blank=True, null=True)),
                ('telephone', models.TextField(blank=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='Portfolio',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('pname', models.TextField()),
            ],
        ),
        migrations.CreateModel(
            name='Registeredat',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('eid', models.ForeignKey(db_column='eid', default=0, on_delete=django.db.models.deletion.DO_NOTHING, to='market.exchange')),
            ],
        ),
        migrations.CreateModel(
            name='Stock',
            fields=[
                ('ticker', models.TextField(primary_key=True, serialize=False, unique=True)),
                ('total_stocks', models.IntegerField(blank=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='Wishlist',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('wname', models.TextField()),
            ],
        ),
        migrations.CreateModel(
            name='Broker',
            fields=[
                ('id', models.OneToOneField(db_column='bid', on_delete=django.db.models.deletion.DO_NOTHING, primary_key=True, serialize=False, to='market.person')),
                ('commission', models.DecimalField(blank=True, decimal_places=5, max_digits=10, null=True)),
                ('latency', models.DecimalField(blank=True, decimal_places=5, max_digits=10, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='Client',
            fields=[
                ('id', models.OneToOneField(db_column='id', on_delete=django.db.models.deletion.DO_NOTHING, primary_key=True, serialize=False, to='market.person')),
                ('email', models.TextField(blank=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='Stockwishlist',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('wname', models.TextField()),
                ('clid', models.OneToOneField(db_column='clid', on_delete=django.db.models.deletion.DO_NOTHING, to='market.wishlist')),
                ('ticker', models.ForeignKey(db_column='ticker', default=0, on_delete=django.db.models.deletion.DO_NOTHING, to='market.stock')),
            ],
        ),
        migrations.CreateModel(
            name='Sellorder',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('orderid', models.IntegerField()),
                ('pname', models.TextField(blank=True, null=True)),
                ('eid', models.IntegerField(blank=True, null=True)),
                ('initial_quantity', models.IntegerField(blank=True, null=True)),
                ('price', models.DecimalField(blank=True, decimal_places=5, max_digits=10, null=True)),
                ('completed_quantity', models.IntegerField(blank=True, null=True)),
                ('creation_time', timescale.db.models.fields.TimescaleDateTimeField(blank=True, interval='1 day', null=True)),
                ('bid', models.ForeignKey(blank=True, db_column='bid', default=0, null=True, on_delete=django.db.models.deletion.DO_NOTHING, to='market.registeredat')),
                ('clid', models.ForeignKey(blank=True, db_column='clid', null=True, on_delete=django.db.models.deletion.DO_NOTHING, to='market.portfolio')),
                ('ticker', models.ForeignKey(blank=True, db_column='ticker', default=0, null=True, on_delete=django.db.models.deletion.DO_NOTHING, to='market.stock')),
            ],
        ),
        migrations.CreateModel(
            name='Pricehistory',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('creation_time', timescale.db.models.fields.TimescaleDateTimeField(interval='1 day')),
                ('price', models.DecimalField(decimal_places=5, max_digits=10)),
                ('eid', models.ForeignKey(db_column='eid', default=0, on_delete=django.db.models.deletion.DO_NOTHING, to='market.exchange')),
                ('ticker', models.ForeignKey(db_column='ticker', default=0, on_delete=django.db.models.deletion.DO_NOTHING, to='market.stock')),
            ],
        ),
        migrations.CreateModel(
            name='Partof',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('iid', models.IntegerField()),
                ('eid', models.ForeignKey(db_column='eid', default=0, on_delete=django.db.models.deletion.DO_NOTHING, to='market.indices')),
                ('ticker', models.OneToOneField(db_column='ticker', on_delete=django.db.models.deletion.DO_NOTHING, to='market.stock')),
            ],
        ),
        migrations.CreateModel(
            name='Oldorder',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('orderid', models.IntegerField()),
                ('pname', models.TextField(blank=True, null=True)),
                ('eid', models.IntegerField(blank=True, null=True)),
                ('quantity', models.IntegerField(blank=True, null=True)),
                ('price', models.DecimalField(blank=True, decimal_places=5, max_digits=10, null=True)),
                ('order_type', models.TextField()),
                ('creation_time', timescale.db.models.fields.TimescaleDateTimeField(blank=True, interval='1 day', null=True)),
                ('bid', models.ForeignKey(blank=True, db_column='bid', null=True, on_delete=django.db.models.deletion.DO_NOTHING, to='market.registeredat')),
                ('clid', models.ForeignKey(blank=True, db_column='clid', null=True, on_delete=django.db.models.deletion.DO_NOTHING, to='market.portfolio')),
                ('ticker', models.ForeignKey(blank=True, db_column='ticker', null=True, on_delete=django.db.models.deletion.DO_NOTHING, to='market.stock')),
            ],
        ),
        migrations.CreateModel(
            name='Listedat',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('eid', models.ForeignKey(db_column='eid', default=0, on_delete=django.db.models.deletion.DO_NOTHING, to='market.exchange')),
                ('ticker', models.ForeignKey(db_column='ticker', on_delete=django.db.models.deletion.DO_NOTHING, to='market.stock')),
            ],
        ),
        migrations.CreateModel(
            name='Company',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('cid', models.IntegerField()),
                ('name', models.TextField(blank=True, null=True)),
                ('address', models.TextField(blank=True, null=True)),
                ('ticker', models.ForeignKey(blank=True, db_column='ticker', default=0, null=True, on_delete=django.db.models.deletion.DO_NOTHING, to='market.stock')),
            ],
        ),
        migrations.CreateModel(
            name='Buyorder',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('orderid', models.IntegerField()),
                ('pname', models.TextField(blank=True, null=True)),
                ('eid', models.IntegerField(blank=True, null=True)),
                ('initial_quantity', models.IntegerField(blank=True, null=True)),
                ('price', models.DecimalField(blank=True, decimal_places=5, max_digits=10, null=True)),
                ('completed_quantity', models.IntegerField(blank=True, null=True)),
                ('creation_time', timescale.db.models.fields.TimescaleDateTimeField(blank=True, interval='1 day', null=True)),
                ('bid', models.ForeignKey(blank=True, db_column='bid', default=0, null=True, on_delete=django.db.models.deletion.DO_NOTHING, to='market.registeredat')),
                ('clid', models.ForeignKey(blank=True, db_column='clid', default=0, null=True, on_delete=django.db.models.deletion.DO_NOTHING, to='market.portfolio')),
                ('ticker', models.ForeignKey(blank=True, db_column='ticker', null=True, on_delete=django.db.models.deletion.DO_NOTHING, to='market.stock')),
            ],
        ),
        migrations.AddField(
            model_name='wishlist',
            name='clid',
            field=models.OneToOneField(db_column='clid', on_delete=django.db.models.deletion.DO_NOTHING, to='market.client'),
        ),
        migrations.AddField(
            model_name='registeredat',
            name='bid',
            field=models.OneToOneField(db_column='bid', on_delete=django.db.models.deletion.DO_NOTHING, to='market.broker'),
        ),
        migrations.CreateModel(
            name='Recommendation',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ticker', models.ForeignKey(db_column='ticker', default=0, on_delete=django.db.models.deletion.DO_NOTHING, to='market.stock')),
                ('bid', models.OneToOneField(db_column='bid', on_delete=django.db.models.deletion.DO_NOTHING, to='market.broker')),
            ],
        ),
        migrations.AddField(
            model_name='portfolio',
            name='clid',
            field=models.OneToOneField(db_column='clid', on_delete=django.db.models.deletion.DO_NOTHING, to='market.client'),
        ),
        migrations.CreateModel(
            name='BankAccount',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('account_number', models.IntegerField()),
                ('balance', models.DecimalField(decimal_places=5, max_digits=10)),
                ('clid', models.ForeignKey(blank=True, db_column='clid', default='', null=True, on_delete=django.db.models.deletion.DO_NOTHING, to='market.client')),
            ],
        ),
    ]
